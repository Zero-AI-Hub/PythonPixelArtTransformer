# ğŸ¨ Pixel Art Transformer

<p align="center">
  <img src="assets/icon.png" alt="Pixel Art Transformer Logo" width="100">
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white" alt="Python">
  <img src="https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-green" alt="Platform">
  <img src="https://img.shields.io/badge/License-MIT-yellow" alt="License">
  <img src="https://img.shields.io/badge/Version-1.0-brightgreen" alt="Version">
</p>

Convert upscaled pixel art images to their **true pixel dimensions** (1 pixel = 1 pixel).

> ğŸ¤– **Perfect for AI-generated pixel art!** Transform images generated by AI tools (DALL-E, Midjourney, Stable Diffusion, etc.) into real, usable pixel art with clean pixels and proper resolution.

Takes any upscaled pixel art image, automatically detects the original pixel grid, samples the center color of each cell, and outputs a clean PNG at the real resolution.

## âœ¨ Features

### Core Features
- ğŸ” **Auto-detection** of pixel size using pattern analysis
- ğŸ“ **Grid visualization** overlay with center markers
- ğŸ¯ **Center sampling** for accurate color preservation
- ğŸš« **Color exclusion** with tolerance control
- ğŸ¨ **Bit depth reduction** for retro palette effects
- ğŸ’¾ **Lossless PNG** export with preset sizes (8Ã—8 to 256Ã—256)
- ğŸ–¥ï¸ **GUI** and **CLI** interfaces

### Advanced Selection Tools
- ğŸ“ **Define Pixel Mode** - Click and drag over a single pixel to set grid size and offset perfectly
- ğŸ”² **Area Selection** - Draw rectangles to include/exclude multiple cells
- âœï¸ **Contour/Lasso Selection** - Draw polygons around sprites for precise selection
- ğŸ“ **Manual Grid Adjustment** - Drag grid lines to fine-tune alignment

### Export Options
- ğŸ“‹ **Clipboard Export** - Copy images as Bytes, Base64, NumPy array, or ASCII Bitmap
- ğŸ“ **Preset Sizes** - Export to standard pixel art dimensions (1:1, 8Ã—8, 16Ã—16, 32Ã—32, etc.)
- ğŸ’¾ **Batch Save** - Save all regions at once

### UI/UX
- ğŸ¨ **Splash Screen** - Professional loading screen with app icon
- ğŸ“± **Responsive Layout** - Scrollable panels for smaller windows
- ğŸ”„ **Smooth Zoom/Pan** - Mouse wheel zoom and drag navigation

## ğŸš€ Quick Start

### Installation

```bash
# Clone the repository
git clone https://github.com/Zero-AI-Hub/PythonPixelArtTransformer.git
cd PythonPixelArtTransformer

# Install dependencies
pip install -r requirements.txt
```

### Windows
```batch
install.bat
```

### Linux/macOS
```bash
chmod +x install.sh && ./install.sh
```

## ğŸ® Usage

### GUI (Recommended)

```bash
python pixel_art_gui.py
```

The GUI provides a wizard-style workflow:
1. **Load** - Select your upscaled pixel art image
2. **Select** - Draw rectangles around sprites/regions
3. **Configure** - Use **Define Pixel** mode for perfect grid alignment
4. **Generate** - Export transformed images in various formats

### Define Pixel Mode (New!)
The easiest way to set up your grid:
1. Select "ğŸ“ Definir PÃ­xel" mode
2. Click and drag over ONE pixel in your image
3. Click "âœ“ Aplicar PÃ­xel"
4. The grid automatically aligns perfectly!

### Command Line

```bash
# Auto-detect pixel size
python pixel_art_transformer.py image.png

# Show grid visualization
python pixel_art_transformer.py image.png --show-grid

# Manual pixel size
python pixel_art_transformer.py image.png --grid-size 16

# Custom output name
python pixel_art_transformer.py image.png -o output.png
```

### Python API

```python
from core import detect_pixel_size, transform_to_real_pixels
from PIL import Image

# Load image
image = Image.open("sprite_sheet.png")

# Auto-detect grid size
cell_size = detect_pixel_size(image)
print(f"Detected: {cell_size}x{cell_size}")

# Transform to true pixels
result = transform_to_real_pixels(
    image, 
    cell_size,
    bit_depth=8,
    excluded_colors=[(255, 0, 255)],  # Exclude magenta
    tolerance=10
)

result.save("sprite_sheet_real.png")
```

## ğŸ“ Project Structure

```
PythonPixelArtTransformer/
â”œâ”€â”€ pixel_art_gui.py          # Main GUI application
â”œâ”€â”€ pixel_art_transformer.py  # CLI application
â”œâ”€â”€ config.py                 # Centralized configuration
â”œâ”€â”€ assets/                   # Application assets
â”‚   â””â”€â”€ icon.png             # App icon
â”œâ”€â”€ core/                     # Core processing logic
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ transformer.py        # Image processing functions
â”‚   â””â”€â”€ exceptions.py         # Custom exceptions
â”œâ”€â”€ gui/                      # GUI components
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ canvases.py          # Zoomable canvas widgets
â”‚   â”œâ”€â”€ grid_editor.py       # Advanced grid editor
â”‚   â””â”€â”€ steps.py             # Wizard step frames
â”œâ”€â”€ tests/                    # Test suite
â”œâ”€â”€ examples/                 # Example files
â”œâ”€â”€ requirements.txt          # Production dependencies
â””â”€â”€ requirements-dev.txt      # Development dependencies
```

## ğŸ§ª Testing

```bash
# Install dev dependencies
pip install -r requirements-dev.txt

# Run tests
python -m pytest tests/ -v

# With coverage
python -m pytest tests/ -v --cov=core --cov-report=html
```

## ğŸ“‹ Requirements

- **Python 3.10+**
- **Pillow** >= 9.0.0
- **NumPy** >= 1.21.0
- **tkinter** (included with Python)

## ğŸ”§ Configuration

All settings are centralized in `config.py`:

| Setting | Description |
|---------|-------------|
| `UI_COLORS` | Application color scheme |
| `ZOOM` | Canvas zoom limits and factors |
| `GRID_DETECTION` | Auto-detection thresholds |
| `REGION` | Region selection parameters |
| `COLOR` | Bit depth options |
| `FILE` | Output size presets |

## ğŸ–¼ï¸ Example Results

<p align="center">
  <img src="examples/mask_original_thumb.png" alt="Original" width="200">
  &nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;
  <img src="examples/mask_pixel_64x64.png" alt="Pixel Art Result" width="128">
</p>

<p align="center">
  <em>Original Image (1024Ã—1024)</em> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em>Pixel Art (30Ã—30 â†’ 64Ã—64)</em>
</p>

## ğŸ“ Changelog

### v1.0.0 (2025-12-19)
- âœ¨ **Initial Release**
- ğŸ” Auto-detection of pixel size using pattern analysis
- ğŸ“ **Define Pixel Mode** - Click and drag to define grid size/offset
- âœ¨ **Contour Selection** - Lasso tool for polygon selection
- âœ¨ **Area Selection** - Rectangle selection tool
- âœ¨ **Clipboard Export** - Copy as Bytes, Base64, NumPy, Bitmap
- âœ¨ **Preset Output Sizes** - 1:1 Pixel, 8Ã—8 to 256Ã—256
- âœ¨ **Splash Screen** - Professional loading screen
- âœ¨ **App Icon** - Custom application icon
- âœ¨ **Responsive UI** - Scrollable panels for small windows
- ğŸ–¥ï¸ GUI wizard workflow and CLI interface
- ğŸ“ Modular architecture with `core/` and `gui/` packages
- âš™ï¸ Centralized configuration in `config.py`

## ğŸ“„ License

MIT License - feel free to use in your projects!

---

<p align="center">
  Made with â¤ï¸ for pixel art enthusiasts
</p>
